\section{剑指 Offer II 004. 只出现一次的数字}

\href{https://leetcode.cn/problems/WGki4K/}{Question Link}

描述：给你一个整数数组 nums，除某个元素仅出现 一次 外, 其余每个元素都恰出现 三次。请你找出并返回那个只出现了一次的元素。

示例：

\begin{lstlisting}
输入：nums = [2,2,3,2]
输出：3
\end{lstlisting}
%------------------------------------------------

\subsection{解析}

因为除某个元素仅出现一次，其余每个元素都恰好出现三次，那么对于出现三次的整数，二进制表示中，对应位的和要么是0，要么是3，所以如果对3取模不为0，一定是因为 出现一次 的那个元素，也就是说出现一次的那个元素对应位上为1。

\subsection*{Code:}

\begin{lstlisting}[language=C++]
class Solution {
 public:
  int singleNumber(vector<int>& nums) {
    int ans = 0;
    for (int i = 0; i <= 31; i++) {
      int total = 0;
      for (int num : nums) {
        total += (num >> i) & 1;
      }
      if (total % 3 != 0) {
        ans |= (1 << i);
      }
    }
    return ans;
  }
};
\end{lstlisting}